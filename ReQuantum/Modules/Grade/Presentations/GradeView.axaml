<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:ReQuantum.ViewModels"
             xmlns:controls="https://github.com/avaloniaui/lib/controls"
             xmlns:models="clr-namespace:ReQuantum.Modules.Zdbk.Models"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
             x:Class="ReQuantum.Views.GradeView"
             x:DataType="viewModels:GradeViewModel">
    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,
         to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <viewModels:GradeViewModel />
    </Design.DataContext>
 
  <StackPanel Spacing="12">

      <!-- 桌面端 -->
      <Grid IsVisible="{Binding WindowService.IsDesktopMode}" 
            ColumnDefinitions="Auto, Auto" 
            RowDefinitions=" 100, 500"> 
        
          <!-- 第一块（左上） -->
          <Panel Grid.Row="0" Grid.Column="0">
              <TextBlock Text="学期切换" HorizontalAlignment="Center" VerticalAlignment="Center"/>
          </Panel>

          <!-- 第二块（右上） -->
          <Panel Grid.Row="0" Grid.Column="1">
              <TextBlock Text="成绩总览" HorizontalAlignment="Center" VerticalAlignment="Center"/>
          </Panel>

          <!-- 第三块（左下） -->
          <Border Grid.Row="1" Grid.Column="0">
              <ItemsControl ItemsSource="{Binding Grades.CoursesGrade}">
                  <!-- 这就是模具 -->
                  <ItemsControl.ItemTemplate>
                      <DataTemplate x:DataType="models:ZdbkCoursesGrade">
                          <!-- 这里定义每一行的视觉结构 -->
                          <Border CornerRadius="16" Margin="5 5 20 5" Background="{DynamicResource CourseGradePanelBrush}"
                                  BoxShadow="5 5 10 0 #40000000">
                              <Grid ColumnDefinitions="Auto, Auto"
                                    RowDefinitions="Auto,Auto,Auto"
                                    Margin="10">
                                  <TextBlock Grid.Column="0" Text="{Binding CourseName}" FontWeight="Medium" />
                                  <TextBlock Grid.Column="1" Text="{Binding Grade100}" FontWeight="Bold" />
                                  <TextBlock Grid.Row="1"  Grid.Column="0" Text="{Binding  Term}" FontWeight="Thin" Foreground="{DynamicResource SmallTextBrush}" FontSize="10"/>
                                  <TextBlock Grid.Row="1"  Grid.Column="1" Text="{Binding  CourseCode}" FontWeight="Thin" Foreground="{DynamicResource SmallTextBrush}"  FontSize="10"/>
                                  <ProgressBar Grid.Row="2" 
                                               Height="6" 
                                               Margin="0,4"
                                               Minimum="0" 
                                               Maximum="100" 
                                               Value="{Binding Grade100}" 
                                               CornerRadius="3"
                                               Foreground="{DynamicResource ProgressBarBrush}"
                                               Background="#10000000"/>
                              </Grid>
                          </Border>
                      </DataTemplate>
                  </ItemsControl.ItemTemplate>
              </ItemsControl>
          </Border>

          <!-- 第四块（右下） -->
          <Panel Grid.Row="1" Grid.Column="1">
              <TextBlock Text="可视化图表" HorizontalAlignment="Center" VerticalAlignment="Center"/>
          </Panel>

          <!-- 水平分割线：位于第0行底部，跨越2列 -->
          <Rectangle Grid.Row="0" Grid.ColumnSpan="2" 
                     Height="1" Fill="Gray" Opacity="0.3"
                     VerticalAlignment="Bottom"/>
        
          <!-- 垂直分割线：位于第0列右侧，跨越2行 -->
          <Rectangle Grid.Column="0" Grid.RowSpan="2" 
                     Width="1" Fill="Gray" Opacity="0.3"
                     HorizontalAlignment="Right"/>
      </Grid>

    <!-- 移动端 -->
    <Grid  IsVisible="{Binding !WindowService.IsDesktopMode}">

    </Grid>


  </StackPanel>
  <!-- Add Resources Here -->
</UserControl>
