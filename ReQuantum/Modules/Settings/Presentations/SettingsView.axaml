<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:ReQuantum.ViewModels"
             xmlns:views="clr-namespace:ReQuantum.Views"
             xmlns:presentations="clr-namespace:ReQuantum.Modules.Settings.Presentations"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:Class="ReQuantum.Views.SettingsView"
             x:DataType="presentations:SettingsViewModel">
  <Design.DataContext>
    <presentations:SettingsViewModel />
  </Design.DataContext>
  
  <ScrollViewer HorizontalScrollBarVisibility="Disabled"
                VerticalScrollBarVisibility="Auto">
    <StackPanel Spacing="24" Margin="32" MaxWidth="800">
      
      <!-- Settings Title -->
      <TextBlock Text="{Binding Localizer[Settings]}"
                 FontSize="32"
                 FontWeight="Bold"
                 Margin="0,0,0,8"/>

      <!-- Language Settings Section -->
      <Border BorderThickness="1"
              BorderBrush="{DynamicResource SystemControlForegroundBaseMediumBrush}"
              CornerRadius="8"
              Padding="20">
        <StackPanel Spacing="16">
          <TextBlock Text="{Binding Localizer[LanguageSettings]}"
                     FontSize="20"
                     FontWeight="SemiBold"/>
          
          <StackPanel Spacing="8">
            <TextBlock Text="{Binding Localizer[SelectLanguage]}"
                       FontSize="14"
                       Opacity="0.8"/>
            <ComboBox ItemsSource="{Binding AvailableLanguages}"
                      SelectedItem="{Binding SelectedLanguage}"
                      HorizontalAlignment="Stretch"
                      Padding="12,8">
              <ComboBox.ItemTemplate>
                <DataTemplate>
                  <TextBlock Text="{Binding DisplayName}" 
                             FontSize="14"/>
                </DataTemplate>
              </ComboBox.ItemTemplate>
            </ComboBox>
          </StackPanel>
        </StackPanel>
      </Border>

      <!-- ZJU SSO Account Management Section -->
      <Border BorderThickness="1"
              BorderBrush="{DynamicResource SystemControlForegroundBaseMediumBrush}"
              CornerRadius="8"
              Padding="20">
        <StackPanel Spacing="16">
          <TextBlock Text="{Binding Localizer[ZjuSsoAccountManagement]}"
                     FontSize="20"
                     FontWeight="SemiBold"/>

          <!-- Embedded ZjuSsoLoginView -->
          <views:ZjuSsoLoginView DataContext="{Binding ZjuSsoLoginViewModel}"/>
        </StackPanel>
      </Border>

      <!-- PTA Login Section -->
      <Border BorderThickness="1"
              BorderBrush="{DynamicResource SystemControlForegroundBaseMediumBrush}"
              CornerRadius="8"
              Padding="20">
        <StackPanel Spacing="16">
          <TextBlock Text="{Binding Localizer[PtaLogin]}"
                     FontSize="20"
                     FontWeight="SemiBold"/>

          <!-- Embedded PtaLoginView -->
          <views:PtaLoginView DataContext="{Binding PtaLoginViewModel}"/>
        </StackPanel>
      </Border>

    </StackPanel>
  </ScrollViewer>
</UserControl>
